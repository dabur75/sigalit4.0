#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Sigalit Project - Pre-commit Hook
# This hook reminds developers about session startup requirements

echo "ğŸ” Sigalit Pre-commit Check..."
echo ""

# Check if session startup has been completed
if [ ! -f ".session_startup_completed" ]; then
    echo "âš ï¸  WARNING: Session startup not completed!"
    echo ""
    echo "ğŸ“š Before committing, please ensure you have:"
    echo "   âœ… Read SESSION_STARTUP.md"
    echo "   âœ… Read PROJECT.md for current status"
    echo "   âœ… Read tasks/README.md for task status"
    echo "   âœ… Run 'npm run session:start' if needed"
    echo ""
    echo "ğŸ’¡ To mark session startup as complete, run:"
    echo "   touch .session_startup_completed"
    echo ""
    echo "ğŸš« Commit blocked until session startup is completed."
    exit 1
fi

echo "âœ… Session startup completed - proceeding with commit..."
echo ""

# Run standard checks
npm run lint
npm run typecheck
